<!DOCTYPE html>
<html>

<head>
    <title>Accesibilidad</title>
    <link href="css/accesibility.css" rel="stylesheet" type="text/css">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

    <script src="https://cdn.speechkit.io/v2/speechkit.js"></script>
</head>


<body>
    <main class="container">
        <h1 class="h1-accesibility-demo">Cambiame de color</h1>

        <h6 class="fw-bold text-uppercase text-primary mb-0">
            Hablemos
        </h6>

        <!-- Text -->
        <a href="https://api.whatsapp.com/send?phone=56961591932" class="fs-sm text-gray-700 mb-0">
        Si necesitas ayuda con tu sitio, puedo ayudarte.
    </a>

        <button id="speak-btn" onclick="enableSpeech()">Habilitar lectura</button>
        <label for="speed-range">Velocidad de lectura:</label>
        <input type="range" min="0.1" max="2" step="0.1" value="1" id="speed-range">
    </main>
    <script>
        var speedRange = document.getElementById("speed-range");
        var speakBtn = document.getElementById("speak-btn");
        var isSpeaking = false;

        function enableSpeech() {
            if (!isSpeaking) {
                isSpeaking = true;
                speakBtn.innerHTML = "Deshabilitar lectura";
                var elements = document.getElementsByTagName("*");
                for (var i = 0; i < elements.length; i++) {
                    elements[i].addEventListener("mouseover", function(event) {
                        var text = event.target.textContent;
                        var msg = new SpeechSynthesisUtterance(text);
                        msg.rate = speedRange.value;
                        window.speechSynthesis.speak(msg);
                    });
                }
            } else {
                isSpeaking = false;
                speakBtn.innerHTML = "Habilitar lectura";
                window.speechSynthesis.cancel();
            }
        }

        speedRange.addEventListener("input", function() {
            if (isSpeaking) {
                window.speechSynthesis.cancel();
                enableSpeech();
            }
        });
    </script>

</body>

</html>